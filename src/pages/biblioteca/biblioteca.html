<ion-header>
  <ion-navbar>
    <ion-buttons end>
      <button ion-button icon-only (click)="openMenu()"><ion-icon name="options"></ion-icon></button>
    </ion-buttons>
  </ion-navbar>
</ion-header>
<ion-content fullscreen padding class="biblioteca">
  <ion-searchbar class="searchbar" [(ngModel)]="searchBar" (ionInput)="onInput($event)" (ionCancel)="onCancel($event)" placeholder="Titulo"></ion-searchbar>
  <audio-track #audio *ngFor="let track of myTracks; let i = index;" [track]="track" (onFinish)="onTrackFinished($event)">
    <ion-item>
      <ion-thumbnail item-left>
        <img src="{{audio.art}}" (click)="playSong(track);">
        <!-- <audio-track-play [audioTrack]="audio" (click)="addView(track)">
          <ion-spinner></ion-spinner>
        </audio-track-play> -->
      </ion-thumbnail>
      <div item-content style="width:100%; color:white;">
        <ion-grid>
          <ion-row>
            <h2>{{audio.title}} </h2>
          </ion-row>
          <ion-row>
            <p> <em> {{audio.artist}}</em> - <em>{{track.gender}}</em> </p>
          </ion-row>
          <ion-row>
            <p> <em> {{track.view}} reproducciones </em> </p>
          </ion-row>
          <ion-row>
            <ion-icon name="star" (click)="addLibrary(track)"></ion-icon>
            <ion-icon name="logo-facebook" (click)="shareFacebook(track)"></ion-icon>
            <ion-icon name="logo-twitter" (click)="shareTwitter(track)"></ion-icon>
          </ion-row>
          <ion-row>
            <audio-track-progress-bar duration progress [audioTrack]="audio" [ngStyle]="{visibility: audio.isPlaying == true ? 'visible' : 'hidden'}"></audio-track-progress-bar>
          </ion-row>
        </ion-grid>
      </div>
    </ion-item>
  </audio-track>
</ion-content>